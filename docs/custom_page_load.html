<!DOCTYPE html>
<html>
  <head>
    <title>Sky Analytics API - Custom Page Load</title>

    <script type="text/javascript">
      // Don't do this to pull in the masthead! We're only doing it to keep this page html
      var xhReq = new XMLHttpRequest();
      xhReq.open("GET", "http://assets.sky.com/resources/mobile-ready/12/css/", false);
      xhReq.send(null);
      var serverResponse = xhReq.responseText;
      document.write(serverResponse);
    </script>

    <!-- CSS -->
    <link rel="stylesheet" href="//web-toolkit.global.sky.com/0.2.5/stylesheets/sky_web_toolkit.css">
    <link rel="stylesheet" href="./css/styles.css">

    <!-- Javascript -->
    <script src="http://assets.sky.com/js/lib/jquery-1.9.1.min.js"></script>

    <!-- Tracking - aka: What you came here for -->
    <script type='text/javascript' src="../tracking.js"></script>
  </head>
  <body>

    <div class='skycom_container'>

      <section>
        <h1>Custom Page Load Events</h1>
        <p>To send an event upon page load.</p>

        <pre>
        <code>
SITECAT_CONFIG = {
  site: 'mysky',
  section: 'skyglobal/analytics',
  headline: '',
  contentType: 'skyglobal',
  contentId: '',
  account: 'bskybmyaccountdev',
  page: 'Analytics demo page',
  customEvents: [{'custom_page_load': {event: 99, onPageLoad: true}}],
  customVariables: [
    {'custom_variable': {var: 76, onPageLoad: true}},
    {'custom_prop': {prop: 75, onPageLoad: true}}
  ]
};
        </code>
        </pre>

      </section>

    </div>
    <script type='text/javascript'>
      SITECAT_CONFIG = {
        site: 'mysky',
        section: 'skyglobal/analytics',
        headline: '',
        contentType: 'skyglobal',
        contentId: '',
        account: 'bskybmyaccountdev',
        page: 'Analytics demo page',
        customEvents: [{'magic_happened': {event: 99, onPageLoad: true}}],
        customVariables: [
          {'custom_variable': { var: 76, onPageLoad: true}},
          {'custom_prop':    { prop: 75, onPageLoad: true}}
        ]
      };

      toolkit['tracking'](SITECAT_CONFIG);
    </script>
  </body>
</html>
