"undefined"==typeof demo&&(demo={});var TestResult={}||TestResult;demo.testResults=function(){function t(t){var e=t;return t&&(e=t.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()})),e}function e(t){var e;return $.ajax(t,{async:!1}).done(function(t){e=(new X2JS).xml2json(t.documentElement)}),e}function s(t){var e="",s={name:t._name.split(":")[2],errors:+t._failures+ +t._errors,tests:+t._tests,time:t._time.substr(0,4)};return e+='<ul id="mocha-stats">',e+='<li class="passes">passes:<em>'+(s.tests-s.errors)+"</em></li>",e+='<li class="failures">failures:<em>'+s.errors+"</em></li>",e+='<li class="duration">duration:<em>'+s.time+"s</em></li>",e+="</ul>",e+='<ul id="mocha-report"><li class="suite"><h1>'+s.name+"</h1></li></ul>"}function a(e){var s,a="<ul>";return $.each(e.testcase,function(e,n){s={name:t(n._name.split("_")[2]),assertions:n._assertions,status:n.error||n.failure?"fail":"pass"},a+='<li class="test fast '+s.status+'"><h2>'+s.name+"</h2></li>"}),a+="</ul>"}function n(t){return e("test/reports/TEST-AnalyticsTest-"+t+".xml")}function r(t){var e=n(t),r=$("#"+t);(0!=e._failures||0!=e._errors)&&(r.find("span").addClass("error"),r.find("span").html('<i class="skycon-warning colour" aria-hidden="true"></i> Test failed')),$("#test-"+t+" .mocha-container").html(s(e)),$("#test-"+t+" #mocha-report li.suite").append(a(e)),r.lightbox({closeButtonColour:"black"})}function i(){o.document.ready(function(){var t;o.testRunLinks.each(function(e,s){t=$(s).attr("data-test-name");var a="";a+='<article id="test-'+t+'" class="lightbox-analytics hidden" aria-labelledby="lightbox-demo-link"><div class="alpha skycom-12"><h1></h1><div class="mocha-container"></div></div></article>',o.body.append(a)}),o.testRunLinks.each(function(t,e){var s=$(e).data("test-name");r(s)})})}var o={document:$(document),body:$("body"),testRunLinks:$(".run-test")};i()}();