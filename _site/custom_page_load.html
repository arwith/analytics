<!doctype html>
<!--[if IE 7]>         <html class="lt-ie10 lt-ie9 lt-ie8" > <![endif]-->
<!--[if IE 8]>         <html class="lt-ie10 lt-ie9" > <![endif]-->
<!--[if IE 9]>         <html class="lt-ie10" > <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<head>
    <title>Sky Analytics API Demo Page</title>

    <link rel="stylesheet" href="http://web-toolkit.global.sky.com/0.4.4/stylesheets/toolkit.css">
    <link rel="stylesheet" href="./dist/css/wiki.css">
    <script src="http://assets.sky.com/js/lib/jquery-1.9.1.min.js" type="text/javascript"></script>

    <!--[if LT IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/desktop-12grid.css' media='screen' />
<![endif]-->
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link rel='stylesheet' href='//assets.sky.com/css/responsive-12grid.css' class='skycom-responsive-css' media='screen and (min-width: 768px)' />
<!--[mobilestart]-->
<link rel='stylesheet' href='//assets.sky.com/css/mobile-12grid.css' class='skycom-mobile-css' media='screen and (max-width: 767px)' />
<!--[mobileend]-->

<link href='//assets.sky.com/images/favicon.png' rel='icon' type='image/png'>
<link href='//assets.sky.com/fonts/sky_regular.ttf' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_regular.svg' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_medium.ttf' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_medium.svg' rel='prefetch'>
<link rel='stylesheet' href='//assets.sky.com/css/css-print.css' media='print' />
<link rel='stylesheet' href='//assets.sky.com/css/app-fonts.css' />
<!--[if IE 6]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie6.css' />
<![endif]-->
<!--[if IE 7]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie7.css' />
<![endif]-->
<!--[if LT IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ielt9.css' />
<![endif]-->
<!--[if IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie9.css' />
<![endif]-->
<!--[if LT IE 10]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ielt10.css' />
<![endif]-->
<script id='skycom-view-type'></script>
<script id='skycom-orientation'></script>
<script>
  var globalskycom = globalskycom || {};
  globalskycom.serverHost = 'assets.sky.com';
</script>
<script src='//assets.sky.com/js/app.js'></script>
<script>
  $(function() {
    var i, len,
      messages = globalskycom.emergencyMessages;
    if(messages) {
      for(i = 0, len = messages.length; i < len; i++) {
        new globalskycom.message(messages[i]);
      }
    }
  });
</script>

    <!-- Tracking - aka: What you came here for -->
    <script type='text/javascript' src="./dist/js/tracking.js"></script>
</head>
<body>

<div class='grid-1140'>

    <div class="quick-links">
        <div class="skycom_container">
            <ul class="nav-pills alpha skycom_12">
                <li><a href="./#using-me">Using the Analytics</a></li>
                <li><a href="./#link-tracking">Link Tracking</a></li>
                <li><a href="./#custom-vars">Custom Variables</a></li>
                <li><a href="./#custom-events">Custom Events</a></li>
                <li><a href="./#manual">Manual Trigger</a></li>
                <li><a href="./#single-page-apps">Single Page Apps</a></li>
            </ul>
        </div>
    </div>
    <div class="skycom-container clearfix">
        <div class="alpha skycom-12">
            <h1 class="wiki-header">Omniture Analytics <small>v0.6.0</small></h1>

<section class="wiki-section">
    <div class="sub-section">
        <h2>Custom Page Load Events</h2>
<p>To send an event upon page load.</p>

<pre>
        <code>
            SITECAT_CONFIG = {
            site: 'mysky',
            section: 'skyglobal/analytics',
            headline: '',
            contentType: 'skyglobal',
            contentId: '',
            account: 'bskybmyaccountdev',
            page: 'Analytics demo page',
            customEvents: [{'custom_page_load': {event: 99, onPageLoad: true}}],
            customVariables: [
            {'custom_variable': {var: 76, onPageLoad: true}},
            {'custom_prop': {prop: 75, onPageLoad: true}}
            ]
            };
        </code>
        </pre>

</section>
    </div>
</section>
    <script type='text/javascript'>
      SITECAT_CONFIG = {
        verify: true,
        site: 'mysky',
        section: 'skyglobal/analytics',
        headline: '',
        contentType: 'skyglobal',
        contentId: '',
        account: 'bskybmyaccountdev',
        page: 'Analytics demo page',
        customEvents: [{'magic_happened': {event: 99, onPageLoad: true}}],
        customVariables: [
            {'my_custom_prop':     { prop: 40, onPageLoad: true, value: 'my custom prop value'}},
            {'my_custom_variable': { var: 41, prop: 41,  onPageLoad: true, value: 'my custom eVar value'}}
        ]
      };

      toolkit['tracking'].pageView(SITECAT_CONFIG);
    </script>
  </body>
</html>

        </div>
    </div>
    <!--<script src="dist/scripts/lib/require.js" data-main='dist/scripts/wiki'></script>-->
</div>
</body>
</html>