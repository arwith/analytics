<!doctype html>
<!--[if IE 7]>         <html class="lt-ie10 lt-ie9 lt-ie8" > <![endif]-->
<!--[if IE 8]>         <html class="lt-ie10 lt-ie9" > <![endif]-->
<!--[if IE 9]>         <html class="lt-ie10" > <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en" > <!--<![endif]-->
<head>
    <title>Sky Analytics API Demo Page</title>

    <link rel="stylesheet" href="http://web-toolkit.global.sky.com/0.5.1/stylesheets/toolkit.css">
    <link rel="stylesheet" href="./dist/css/wiki.css">
    <script src="http://assets.sky.com/js/lib/jquery-1.9.1.min.js" type="text/javascript"></script>

    <!--[if LT IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/desktop-12grid.css' media='screen' />
<![endif]-->
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link rel='stylesheet' href='//assets.sky.com/css/responsive-12grid.css' class='skycom-responsive-css' media='screen and (min-width: 768px)' />
<!--[mobilestart]-->
<link rel='stylesheet' href='//assets.sky.com/css/mobile-12grid.css' class='skycom-mobile-css' media='screen and (max-width: 767px)' />
<!--[mobileend]-->

<link href='//assets.sky.com/images/favicon.png' rel='icon' type='image/png'>
<link href='//assets.sky.com/fonts/sky_regular.ttf' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_regular.svg' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_medium.ttf' rel='prefetch'>
<link href='//assets.sky.com/fonts/sky_medium.svg' rel='prefetch'>
<link rel='stylesheet' href='//assets.sky.com/css/css-print.css' media='print' />
<link rel='stylesheet' href='//assets.sky.com/css/app-fonts.css' />
<!--[if IE 6]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie6.css' />
<![endif]-->
<!--[if IE 7]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie7.css' />
<![endif]-->
<!--[if LT IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ielt9.css' />
<![endif]-->
<!--[if IE 9]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ie9.css' />
<![endif]-->
<!--[if LT IE 10]>
<link rel='stylesheet' href='//assets.sky.com/css/app-ielt10.css' />
<![endif]-->
<script id='skycom-view-type'></script>
<script id='skycom-orientation'></script>
<script>
  var globalskycom = globalskycom || {};
  globalskycom.serverHost = 'assets.sky.com';
</script>
<script src='//assets.sky.com/js/app.js'></script>
<script>
  $(function() {
    var i, len,
      messages = globalskycom.emergencyMessages;
    if(messages) {
      for(i = 0, len = messages.length; i < len; i++) {
        new globalskycom.message(messages[i]);
      }
    }
  });
</script>

    <!-- Tracking - aka: What you came here for -->
    <script type='text/javascript' src="./dist/js/analytics.js"></script>
</head>
<body>

<div class='grid-1140'>

    <div class="quick-links">
        <div class="skycom_container">
            <ul class="nav-pills alpha skycom_12">
                <li><a href="/#using-me">Using the Analytics</a></li>
                <li><a href="/#tracking-clicks">Tracking Clicks</a></li>
                <li><a href="/#tracking-searches">Tracking Searches</a></li>
                <li><a href="/#custom-vars">Custom Variables</a></li>
                <li><a href="/#custom-events">Custom Events</a></li>
                <li><a href="/#manual">Manual Trigger</a></li>
                <li><a href="/#single-page-apps">Single Page Apps</a></li>
            </ul>
        </div>
    </div>
    <div class="skycom-container clearfix">
        <div class="alpha skycom-12">
            <h1 class="wiki-header">Omniture Analytics <small>v0.6.0</small></h1>

<section class="wiki-section">
    <a name="using-me"></a>
    <h2>Using the Analytics</h2>
    <p class="developer-notes">
        Please use the following:
        <code class="html">    &lt;script src=http://analytics.global.sky.com/0.6.0/analytics.js>&lt;/script></code>.
        If your project uses RequireJS, <a href="require-js.html">Click here to see a requireJS example</a>.
</p><p>Then add the following onto your page with the correct account details to initialise the tracking.    </p>

    <code class="block js">   analytics.pageView({
        site: 'global',
        section: 'skyglobal/analytics',
        account: 'bskybdemodev',
        page: 'Analytics demo page'
    });</code>
    <p>Boom.    Job Done.    </p>
    <p> Now <code>anchors</code>, <code>buttons</code>, <code>submits</code> and any element with <code>[data-tracking]</code> are automatically tracking.</p>


    <a name="contributing"></a>
    <div class="sub-section">
        <h3 class="wiki-h3">Contributing</h3>
<p >
    The source code is available in a private repository on Github, along with instructions for building/running the project locally.  Please fork it from here:
    <a href="https://github.com/skyglobal/analytics/">https://github.com/skyglobal/analytics/</a>
</p>

<dl class="clearfix ">
    <dt class="skycom_4 alpha">Feature Requests</dt>
    <dd class="skycom_8">If there is no similar request <a href="https://github.com/skyglobal/analytics/issues">here</a>, create a New
        Issue and flag it as an '<code>enhancement</code>'</dd>
    <dt class="skycom_4 alpha">Bug Reporting</dt>
    <dd class="skycom_8">If there is no similar request <a href="https://github.com/skyglobal/analytics/issues">here</a>, create a New
        Issue and flag it as a '<code>bug</code>'</dd>
</dl>
    </div>
    <a name="getting-started"></a>
    <div class="sub-section">
        <h3 class="wiki-h3">Config in Detail</h3>
<p>To get you config correct, please get the details for your project from <code>implementation@bskyb.com</code>.  The following shows the options:</p>

<dl class="clearfix ">
    <dt class="skycom_4 alpha">site</dt>
    <dd class="skycom_8">[mandatory] Team Identifier e.g. 'sports', 'mysky' or 'skycom' etc.</dd>
    <dt class="skycom_4 alpha">section</dt>
    <dd class="skycom_8">[mandatory] General page location, slash deliminated. e.g. 'make-the-most/tv-preference'</dd>
    <dt class="skycom_4 alpha">account</dt>
    <dd class="skycom_8">[mandatory] Omniture account name. e.g. bskybskycomaccountprod</dd>
    <dt class="skycom_4 alpha">page</dt>
    <dd class="skycom_8">[mandatory] Unique identifier for your page e.g. "mini connector - registration success"</dd>
    <dt class="skycom_4 alpha">headline</dt>
    <dd class="skycom_8">[optional] Subject title for the page article</dd>
    <dt class="skycom_4 alpha">contentType</dt>
    <dd class="skycom_8">[optional] Type of page descriptor</dd>
    <dt class="skycom_4 alpha">contentId</dt>
    <dd class="skycom_8">[optional] UID for articles over time (i.e. if headline text is duplicated)</dd>
    <dt class="skycom_4 alpha">customVariables</dt>
    <dd class="skycom_8">[optional] A way to customise tracking for your site. <a href="#custom-vars">details here >></a></dd>
    <dt class="skycom_4 alpha">customEvents</dt>
    <dd class="skycom_8">[optional] A way to customise tracking for your site. <a href="#custom-events">details here >></a></dd>
    <dt class="skycom_4 alpha">debug</dt>
    <dd class="skycom_8">[optional] [boolean]. Turn on debug on page load to capture the page view event</dd>
</dl>

<h4>Debugging</h4>
<p>You can either add <code>debug:true</code> or execute the following to enable debugging:
    <code class="">    analytics.debug(<i>[true|false]</i>);</code>
    <a href="debug-on-load.html">Click here to see debug on load</a> in action.
</p>

<p>Try <code>analytics.debug()</code> now and click around below.</p>

<h4>Example config</h4>
<code class="block js">    analytics.pageView({
        site: 'global',
        section: 'skyglobal/analytics',
        account: 'bskybdemodev',
        page: 'Analytics demo page',
        customEvents: [
            {'magic_happened': {event: 101, onPageLoad:true}}
        ],
        customVariables: [
            {'drink': {'eVar': 72}},
        ],
        debug: true
    });
</code>
    </div>
</section>


<a name="tracking-clicks"></a>
<section class="wiki-section">
    <h2>Tracking Clicks</h2>
<p>
    Pages are commonly split up in the following areas: Modules, Pods and other.
    You may also want to track Editorial-Themes or the Context along with the clicked text<sup>1</sup>.
</p>
<h3 class="wiki-h3">Optional tracking Attributes</h3>
<p>
    Add the following <code>data</code> attributes to the relevant containers within your page.
    When an element is clicked, the JS will traverse up the DOM looking for these attributes.
</p>
<dl class="clearfix">
    <dt class="skycom_4 alpha">data-tracking-module</dt>
    <dd class="skycom_8">Add this to a top-level container.
        <br/>This defines a distinct horizontal band on a page.
        <br /> eg. <code>data-tracking-module=carousel</code>
    </dd>
    <dt class="skycom_4 alpha">data-tracking-pod</dt>
    <dd class="skycom_8">Add this to a mid-level container.
        <br/>This commonly defines a vertical band within the module or a segment of content.
        <br /> eg. <code>data-tracking-pod=slide2</code></dd>
    <dt class="skycom_4 alpha">data-tracking-other</dt>
    <dd class="skycom_8">Add this to a Low level container.
        <br/> This might be useful for multi-level navigation.
        <br/> eg. <code>data-tracking-other=subnav-text</code></dd>
    <dt class="skycom_4 alpha">data-tracking-theme</dt>
    <dd class="skycom_8">Add this to the element being clicked or a container.
        <br> Used to group items or related links that may be across modules.
        <br /> eg. <code>data-tracking-theme=friends-and-family</code></dd>
    <dt class="skycom_4 alpha">data-tracking-context <br>... or ... data-tracking-context-id</dt>
    <dd class="skycom_8">Add this to the element being clicked.
        <br/>Useful when multiple links have the same text, you may need more context around the link i.e. 'remote record' may need the context of what is being recorded
        <br/> eg. <code>data-tracking-context=bond-11</code> or <code>data-tracking-context-id=search-box</code></dd>
    <dt class="skycom_4 alpha">data-tracking-label</dt>
    <dd class="skycom_8">Add this to the element being clicked
        <br/>A text alternative. Useful when the text clicked may be too long or non-unique.
        <br/> eg. <code>data-tracking-label=bond-remote-record</code></dd>
    <dt class="skycom_4 alpha">data-tracking-search</dt>
    <dd class="skycom_8">Add this to the button/link that triggers the search.
        <br/>Must be used with <code>data-tracking-context-id</code>.
        <br/> eg. <code>data-tracking-search=weather data-tracking-context-id=search-box</code></dd>
    <dt class="skycom_4 alpha">data-tracking</dt>
    <dd class="skycom_8">Add this to an element you do/do not want tracked
        <br/>A way to force tracking of an element or to stop the tracking of an element.
        <br/> eg. <code>data-tracking=false</code></dd>
</dl>
<p><sup>1</sup>
    By default we automatically track the <code>text</code> that is clicked along with the <code>site</code> name.
    In order of priority, we track <code>text</code> by looking for the attributes: 'data-tracking-label', 'alt', 'value' and 'name'. If these are not found we will use the elements inner-text.
</p>

<h3 class="wiki-h3" data-tracking="false">Examples</h3>
<div class='example clearfix'>

    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=standard-link></span>
        <a href="#!">Standard link</a>
    </div>
    <div class="skycom_8">
        '<code>a</code>' tags will be tracked automatically
    </div>
    <div class="code-example" id=standard-link>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;a href='#' >link&lt;/a>    </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>

    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=standard-button></span>
        <button class="btn sign-post">Normal Button</button>
    </div>
    <div class="skycom_8">
        '<code>button</code>' tags will be tracked automatically
    </div>
    <div class="code-example" id=standard-button>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;button>Button&lt;/button>    </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>

    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=input-button></span>
        <input type="submit" value="Submit Button"/>
    </div>
    <div class="skycom_8">
        '<code>input</code>' tags with <code>type=submit</code> will be tracked automatically
    </div>
    <div class="code-example" id=input-button>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;input type="submit" value="Submit"/>    </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>

    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=everything-else></span>
        <span data-tracking id='a-non-anchor'>Tracking everything else</span>
    </div>
    <div class="skycom_8">
        the attribute '<code>data-tracking</code>' needs to be added to any other tags you wish to track
    </div>
    <div class="code-example" id=everything-else>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;span data-tracking >Span&lt;/span>    </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>


    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=tracking-label></span>
        <a class='btn primary-cta' data-tracking-label='label-text' href="#!">Link tracked with different text</a>
    </div>
    <div class="skycom_8">
        By adding '<code>data-tracking-label</code>' you can change the text that is tracked.
    </div>
    <div class="code-example" id=tracking-label>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;a data-tracking-label='label-text' href="#">Link&lt;/a></code>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>


    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=tracking-context></span>
        <div >
            <a href="#!"  data-tracking-context='context'>Similar CTA's, different actions</a>
        </div>
        <div >
            <a href="#!">Similar CTA's, different actions</a>
        </div>
    </div>
    <div class="skycom_8">
        By adding '<code>data-tracking-context</code>' you can differentiate between 2 CTA's that do different things.<br/>
        E.g. Remote Record buttons that record different programmes.
    </div>
    <div class="code-example" id=tracking-context>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9"><code class="block html">&lt;a href="#" data-tracking-context='Sky News'>Record&lt;/a>
&lt;a href="#" data-tracking-context='Sky Sports'>Record&lt;/a></code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>


    <div class="skycom_4 alpha has-code-example" data-tracking-module=testing>
        <span class="toggle-code-example" for=tracking-module></span>
        <div data-tracking-pod=pod-1>
            <a href="#!">Same module, pod 1</a>
        </div>
        <div data-tracking-pod=pod-2>
            <a href="#!">Same module, pod 2</a>
        </div>
    </div>
    <div class="skycom_8">
        By adding '<code>data-tracking-pod</code>' and '<code>data-tracking-module</code>' you can provide more information about where in the page links are located.
    </div>
    <div class="code-example" id=tracking-module>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9"><code class="block html">&lt;div data-tracking-module=testing>
    &lt;div data-tracking-pod=pod-1>
        &lt;a href="#!" >pod 1&lt;/a>
    &lt;/div>
    &lt;div data-tracking-pod=pod-2>
        &lt;a href="#!">pod 2&lt;/a>
    &lt;/div>
&lt;/div></code></div>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>


    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=tracking-other></span>
        <div data-tracking-other=js-off-link>
            <a href="#!">Tracking further info</a>
        </div>
        <div data-tracking-theme=editorial-promo-winter>
            <a href="#!">Tracking themes</a>
        </div>
    </div>
    <div class="skycom_8">
        '<code>data-tracking-other</code>' can be used to track any other useful info, i.e. when navigation gets past 2 levels.<br/>
        '<code>data-tracking-theme</code>' can be used to allow editors monitor page elements that are related over time.
    </div>
    <div class="code-example" id=tracking-other>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9"><code class="block html">&lt;div data-tracking-module=testing>
    &lt;div data-tracking-other=js-off-link>
        &lt;a href="#!" >Other info&lt;/a>
    &lt;/div>
    &lt;div data-tracking-theme=editorial-promo-winter>
        &lt;a href="#!">Themes&lt;/a>
    &lt;/div>
&lt;/div></code></div>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>


    <div class="skycom_4 alpha has-code-example" >
        <span class="toggle-code-example" for=not-tracking></span>
        <a data-tracking="false" href="#!" id="anchor-not-tracked">Standard link, not tracked</a>
        <button class="btn" data-tracking="false" id="button-not-tracked" >Normal button, not tracked</button>
        <input type=submit data-tracking="false" value="Submit button, not tracked" id="submit-not-tracked" />
    </div>
    <div class="skycom_8">
        By adding '<code>data-tracking=false</code>' you can stop any element from tracked automatically.
    </div>
    <div class="code-example" id=not-tracking>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class=" html block">&lt;a data-tracking=false href="#">link&lt;/a>
&lt;button class="btn" data-tracking="false" id="button-not-tracked" >button&lt;/button>
&lt;input type=submit data-tracking="false" value="Submit" id="submit-not-tracked" /></code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <code class="skycom-9 js"><i>none</i></code>
    </div>

</div>
</section>
<a name="tracking-searches"></a>
<section class="wiki-section">
    <h2>Search Tracking</h2>
<p>
    To track <code>searchType</code> and <code>searchTerms</code>, you need to add the following into your HTML:
</p>
<dl>
    <dt class="skycom_4 alpha">data-tracking-search</dt>
    <dd class="skycom_8">Add this to the search button and set it to the type of search e.g. weather</dd>
    <dt class="skycom_4 alpha">data-tracking-context-id</dt>
    <dd class="skycom_8">Add this to the search button and set it to the id of the element that contains what was searched for.</dd>
</dl>
<p>Once the search is complete and results have been returned, the above info should be sent on pageView along with how many results we're returned.</p>

<h3 class="wiki-h3 clear">Examples</h3>
<div class='example clearfix'>

    <div class='skycom_4 alpha skycom_clear sky-form has-code-example'>
        <span class="toggle-code-example" for=search-events></span>
        <input id="weather-search" type="text" placeholder="Postcode or town">
        <button class="btn" type="submit" data-tracking-search="weather" data-tracking-context-id="weather-search">Search</button>
    </div>
    <div class="skycom_8">
        Using '<code>data-tracking-search</code>' with '<code>data-tracking-context-id</code>' will activate the Omniture Search Variables.
    </div>
    <div class="code-example" id=search-events>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="block html">&lt;input id="search" type="text" placeholder="Postcode or town">
&lt;button data-tracking-search="weather" data-tracking-context-id="search">Search&lt;/button></code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9 js"><i>none</i></div>
    </div>

    <div class='skycom_4 alpha skycom_clear sky-form has-code-example'>
        <span class="toggle-code-example" for=search-events-onload></span>
        <button class="btn" type="submit" data-tracking=false id='search-results-pageView'>Show Results page</button>
    </div>
    <div class="skycom_8">
        Trigger a <code>pageView</code> with loadVariables: searchResults, searchType and searchTerm.
    </div>
    <div class="code-example" id=search-events-onload>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="block html">none</code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9 "><code class="block js">analytics.pageView({
    site: 'global',
    section: 'skyglobal/analytics',
    account: 'bskybglobaldev',
    page: 'Analytics search results page',
    loadVariables: { 'searchResults': 1, 'searchType':'weather', 'searchTerm': 'london' }
});
        </code></div>
    </div>

    <div class='skycom_4 alpha skycom_clear sky-form has-code-example'>
        <span class="toggle-code-example" for=search-events-ajax></span>
        <button class="btn" type="submit" data-tracking=false id='search-results-via-ajax'>Showing Results section via ajax</button>
    </div>
    <div class="skycom_8">

    </div>
    <div class="code-example" id=search-events-ajax>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="block html">none</code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9 "><code class="block js"> dunno </code></div>
    </div>
</div>
</section>

<a name="custom-vars"></a>
<section class="wiki-section">
    <h2>Custom Variables</h2>
<p>
    When initialising, you will need to add <code>customVariables</code> array which may contain some options:</p>
<dl class="clearfix ">
    <dt class="skycom_4 alpha">var</dt>
    <dd class="skycom_8">[int] Omniture Variable Id. Needed for xxx type reporting</dd>
    <dt class="skycom_4 alpha">prop</dt>
    <dd class="skycom_8">[int] Omniture Prop Id.Needed for xxx type reporting</dd>
    <dt class="skycom_4 alpha">onPageLoad</dt>
    <dd class="skycom_8">[optional][boolean] Set if the variable should be sent on 'pageView'</dd>
    <dt class="skycom_4 alpha">value</dt>
    <dd class="skycom_8">[optional][string] Should be set if <code>onPageLoad</code> is set</dd>
</dl>

<p>
    The name of this object needs to match an HTML element using the attribute
    <code>data-tracking-variable</code>.
    Optionally, <code>data-tracking-value</code> can also be used to send an alternate value to Omniture,
    otherwise the text clicked will be tracked.
</p>

<h3 class="wiki-h3">Examples</h3>
<div class="example clearfix">
    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-vars></span>
        <form id='text-input' class="sky-form">
            <label for='input_field'>What is your favourite drink?</label> <br>
            <input id='input_field' name='input_field' type='text' /><br>
            <button data-tracking-variable='drink' data-tracking-value=""  class='btn primary-cta'>Submit</button>
        </form>
    </div>
    <div class="skycom_8">
        Tracking <code>drink</code> and setting the value to the content of a text box.
    </div>

    <div class="code-example" id=custom-vars>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class=" block html">&lt;label for='input_field'>What is your favourite drink?&lt;/label>
    &lt;input id='input_field' name='input_field' type='text' />
    &lt;button data-tracking-variable='drink' data-tracking-value="" class='btn primary-cta'>Submit&lt;/button></code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="block js">analytics.pageView({
    ...
    drink: [
        {'colour': {var: 72 }}
    ]
});</code>
            <code class="js block">&lt;script>//script to update data-tracking-value attribute
    $('[data-tracking-variable=drink]').attr('data-tracking-value',$('#input_field').val());
&lt;/script></code>
        </div>
    </div>

    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-vars-radio></span>
        <form id='radio-input' class="sky-form">
            <label>Do you like Pina Coldas?</label> <br>
            <input id='radio_yes' checked name='radio_field' type='radio' value='yes_to_pinas'/><label for='radio_yes'>Yes</label>
            <input id='radio_no' name='radio_field' type='radio' value='no_to_pinas'/><label for='radio_no'>No</label>
            <br>
            <button data-tracking-variable='how_about_pina_coladas' data-tracking-value="" class='btn primary-cta'>Submit</button>
        </form>
    </div>
    <div class="skycom_8">
        Tracking <code>how_about_pina_coladas</code> and setting it to the selected radio button
    </div>

    <div class="code-example" id=custom-vars-radio>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="block html">&lt;label>Do you like Pina Coldas?&lt;/label>
&lt;input id='radio_yes' name='radio_field' type='radio' value='yes_to_pinas'/>
&lt;label for='radio_yes'>Yes&lt;/label>
&lt;input id='radio_no' name='radio_field' type='radio' value='no_to_pinas'/>
&lt;label for='radio_no'>No&lt;/label>
&lt;button data-tracking-variable='how_about_pina_coladas' class='btn primary-cta'>Submit&lt;/button></code>
            </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="block js">analytics.pageView({
    ...
    drink: [
       {'how_about_pina_coladas': {var: 73 }}
    ]
});</code>
            <code class="js block">&lt;script>//script to update data-tracking-value attribute
    $('[data-tracking-variable=how_about_pina_coladas]').attr(
      'data-tracking-value',
        $('input[name=radio_field]:checked').val()
    );
&lt;/script></code>
        </div>
    </div>


    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-vars-value></span>
        <button id='colour-button-blue' data-tracking-variable="colour" class="btn">Blue</button>
        <button id='colour-button-secondary' data-tracking-variable="colour" class="btn secondary">Gray</button>
    </div>
    <div class="skycom_8">
        Tracking <code>colour</code> and setting it to the value of the button clicked
    </div>


    <div class="code-example" id=custom-vars-value>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class=" block html">&lt;button  data-tracking-variable="colour">Blue&lt;/button>
&lt;button data-tracking-variable="colour">Gray&lt;/button></code></div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9 js"><code class="block js">analytics.pageView({
    ...
    customVariables: [
        {'colour': {var: 71 }}
    ]
});</code>        </div>
    </div>




    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-var-load></span>
        <a class='btn in-page-cta' href='#!' id='btn-page-load-var'>Custom Var Page Load</a>
    </div>
    <div class="skycom-8">To track a custom variable when the page, add <code>onPageLoad: true</code> in the config.</div>

    <div class="code-example" id=custom-var-load>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    <i>none</i>
        </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="js block">    var config = {
        ...
        customEvents: [
            {'magic_happened': {var: 101, value:'im on load', onPageLoad: true}}
        ]
    };
analytics.pageView(config);
            </code>
        </div>
    </div>

</div>
</section>

<a name="custom-events"></a>
<section class=wiki-section>
    <h2>Custom Events</h2>
<p>
    An array of 'Custom Events' can be added to the analytics <code>config</code> on initialisation..
</p>

<p>The Custom Events array will contain an object with the following options:</p>
<dl class="clearfix ">
    <dt class="skycom_4 alpha">event name</dt>
    <dd class="skycom_8">[string] Event alias</dd>
    <dt class="skycom_4 alpha">event</dt>
    <dd class="skycom_8">[int] Omniture Event Id</dd>
    <dt class="skycom_4 alpha">onPageLoad</dt>
    <dd class="skycom_8">[boolean] Set if the event should be passed to Omniture when the page loads</dd>
</dl>

<h3 class="wiki-h3">Examples</h3>
<div class="example clearfix">
    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-events></span>
        <a class='btn in-page-cta' href='#!' id='btn_custom_event' data-tracking-event='magic_happened'>Custom Event</a>
    </div>
    <div class="skycom-8">To track a custom event when an element is clicked, add <code>data-tracking-event=<i>eventName</i></code> to the relevant element.</div>
    <div class="code-example" id=custom-events>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    &lt;a href='#' data-tracking-event='magic_happened'>Custom Event&lt;/a></code>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="js block">    var config = {
                ...
                customEvents: [
                    {'magic_happened': {event: 101}}
                ]
            };
            analytics.pageView(config);
            </code>
        </div>
    </div>


    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=custom-events-load></span>
        <a class='btn in-page-cta' href='custom-page-load.html' id='btn_page_load'>Custom Page Load</a>
    </div>
    <div class="skycom-8">To track a custom event when the page, add <code>onPageLoad: true</code> in the config.</div>

    <div class="code-example" id=custom-events-load>
        <code class="skycom-2 alpha html">HTML</code>
        <code class="skycom-9 html">    <i>none</i>
        </code>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="js block">    var config = {
                ...
                customEvents: [
                    {'magic_happened': {event: 101, onPageLoad: true}}
                ]
            };
            analytics.pageView(config);
            </code>
        </div>
    </div>
</div>
</section>

<a name="manual"></a>
<section class=wiki-section>
    <h2>Manually Trigger Tracking</h2>
<p>
    You can trigger tracking using JS, and the event will be sent to Omniture as if the user had clicked the element themselves.
</p>

<h3 class="wiki-h3">Examples</h3>
<div class="example clearfix">
    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=manual></span>
        <span class='btn in-page-cta' href='#!' id='manualTrack'>Span manually tracked by JS</span><br/>
        <a class='btn in-page-cta' data-tracking=false href='#!' id='manualTrackingOff'>Anchor being tracked with JS</a>
    </div>
    <div class="skycom_8">
        All elements can be tracked via JS. even id <code>data-tracking=false</code> attribute exists.
    </div>

    <div class="code-example" id=manual>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="html block">&lt;span id='trackingOff'>tracked with js&lt;/span>            </code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="js block">$('#trackingOff').trigger('analytics.track');            </code>
        </div>
    </div>
</div>
</section>

<a name="single-page-apps"></a>
<section class=wiki-section>
    <h2>Single Page Apps</h2>
<p>For apps where the page content changes without a page-refresh, you can track the new page being loaded by calling the <code>pageView</code> function again.</p>
<h3 class="wiki-h3">Examples</h3>
<div class="example clearfix">
    <div class="skycom-4 alpha has-code-example">
        <span class="toggle-code-example" for=single-page-app></span>
        <a class='btn in-page-cta' href='#' id='btn_ajax_event' data-tracking="false">Ajax Event</a>
    </div>
    <div class="skycom_8">
        Trigger a page load event on single page apps. Pass in the updated <code>config</code> to the <code>pageView</code> function.
    </div>

    <div class="code-example" id=single-page-app>
        <code class="skycom-2 alpha html">HTML</code>
        <div class="skycom-9">
            <code class="html block">none</code>
        </div>
        <code class="skycom-2 alpha js">Javascript</code>
        <div class="skycom-9">
            <code class="js block">analytics.pageView(config);            </code>
        </div>
    </div>
</div>
</section>
<script type="text/javascript" charset="utf-8">

    analytics.pageView({
        site: 'global',
        section: 'skyglobal/analytics',
        account: 'bskybglobaldev',
        page: 'Analytics demo page',
        customEvents: [
            {'magic_happened': {event: 101}}
        ],
        customVariables: [
            {'colour': {'eVar': 71}},
            {'drink': {'eVar': 72}},
            {'how_about_pina_coladas': {'eVar': 73}},
        ]
    });
</script>
        </div>
    </div>
    <script src="./dist/js/wiki.js"></script>
</div>
</body>
</html>